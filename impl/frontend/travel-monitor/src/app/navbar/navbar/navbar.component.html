<mat-toolbar class="navbar" color="primary">
  <!-- <button *ngIf="isLoggedIn | async" (click)="onMenuClick.emit()" class="menu-button" mat-icon-button
    aria-label="Example icon-button with a heart icon">
    <mat-icon>menu</mat-icon>
  </button> -->
  <img src="assets/images/logo.svg" alt="logo" class="navbar-logo">
  Travel Monitor
  <div class="spacer"></div>
  <!-- Theme selection component -->
  <app-theme-switch class="navbar-element"></app-theme-switch>
  <!-- Notifications -->
  <app-notifications-list *ngIf="isLoggedIn | async" class="navbar-element"></app-notifications-list>
  <!-- User avatar -->
  <button (click)="userPopupOpened = true;" *ngIf="isLoggedIn | async" mat-icon-button [mdePopoverTriggerFor]="userPopover" mdePopoverTriggerOn="click" #popoverTrigger="mdePopoverTrigger">
    <app-user-avatar class="avatar" [user]="user"></app-user-avatar>
  </button>

  <mde-popover #userPopover="mdePopover" [mdePopoverOverlapTrigger]="false">
      <mat-card class="user-popover">
          <div class="mat-h2 username-header">
              <div class="grid">
                <div class="col-3">
                  <img [src]="user.avatar.image" class="avatar-big">
                </div>
                <div class="col-8">
                  <div>{{ user.username }}</div>
                  <div>
                    <span>{{ user.email }}</span>
                  </div>
                </div>
              </div>
            </div>
            <button mat-menu-item (click)="onLogoutClick()">
              <mat-icon>exit_to_app</mat-icon>
              <span class="option-text">Wyloguj siÄ™</span>
            </button>
            <button mat-menu-item (click)="onProfileEditClick()">
              <mat-icon>person</mat-icon>
              <span class="option-text">Edytuj profil</span>
            </button>
      </mat-card>
  </mde-popover>
</mat-toolbar>
<mat-progress-bar *ngIf="appLoading | async" [color]="'accent'" class="app-loading-bar" mode="indeterminate"></mat-progress-bar>